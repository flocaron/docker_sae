CREATE TABLE SAEUTILISATEURS (
	LOGIN VARCHAR(50),
	MOTDEPASSE VARCHAR(100),
	EMAIL VARCHAR(100),
	PRIMARY KEY (LOGIN)
);

CREATE TABLE SAEVOTES (
	IDVOTE INTEGER,
	INTITULE VARCHAR(100) NOT NULL,
	OPTION1 VARCHAR(100) NOT NULL,
	OPTION2 VARCHAR(100) NOT NULL,
	RESULTAT INTEGER,
	URNE_U VARCHAR(750),
	URNE_V VARCHAR(750),
	NBBULLETINS INTEGER,
	DATEFIN DATE,
	HEUREFIN INTEGER,
	CONSTRAINT SAEVOTES_PK PRIMARY KEY (IDVOTE)
);

CREATE TABLE SAEVOTER (
	LOGIN VARCHAR(50),
	IDVOTE INTEGER,
	PRIMARY KEY (LOGIN, IDVOTE),
	CONSTRAINT FK_SAEUtilisateurs FOREIGN KEY (LOGIN) REFERENCES SAEUTILISATEURS (LOGIN) ,
	CONSTRAINT FK_SAEVotes FOREIGN KEY (IDVOTE) REFERENCES SAEVOTES (IDVOTE) 
);

INSERT INTO
	SAEUTILISATEURS (LOGIN, MOTDEPASSE, EMAIL)
VALUES
	(
		'Chirouze',
		'$2a$10$77xE4GyaTQd0OlibvYDNie7hfn6sjAQiJZB5XOl.Pu2g4k7LChwve',
		'chirouze@yopmail.com'
	),
	(
		'capy',
		'$2a$10$pPtKLWwor1G9nJ.dJw1RselXafrEWp7oEx6WpOfYtFnqlHATBBCKG',
		'capybarasae@yopmail.com'
	),
	(
		't',
		'$2a$10$ht8kgD4BT9zTXBakJyWxrOx7xJeXR4ZiU0AN5E0TxnqLGGQhK9oPy',
		'verifutilisateursae@yopmail.com'
	),
	(
		'testeur',
		'$2a$10$UBfByuw6B7OC3FF1Tvfwn.WvOEaJZizXn.AJpV4YIUKF9mS1c1M8G',
		'saeutilisateur@gmail.com'
	),
	(
		'a',
		'$2a$10$ZPRFutejJjYaLHc8g6Y3Lev24U8qwKA/.xkQPWKsBnxbCizjLF4MG',
		's.jocelin@pm.me'
	),
	(
		'car',
		'$2a$10$p9/xM/2LBslHqdbwxKPEtuFzQ17ZphV.WFUzTSnb0em1a2JiESWpG',
		'caracalsae@yopmail.com'
	);



INSERT INTO
	SAEVOTES (
		IDVOTE,
		INTITULE,
		OPTION1,
		OPTION2,
		RESULTAT,
		URNE_U,
		URNE_V,
		NBBULLETINS,
		DATEFIN,
		HEUREFIN
	)
VALUES
	(
		0,
		'a ou b ?',
		'a',
		'b',
		-1,
		'61951568019832032322752680333',
		'620864290131474475232402615089',
		1,
		TIMESTAMP '2050-12-12 00:00:00.0',
		12
	),
	(
		1,
		'c ou d ? ',
		'c',
		'd',
		-1,
		'104784463908514978164086846204',
		'819293912971736902666640054224',
		1,
		TIMESTAMP '2050-12-12 00:00:00.0',
		12
	);



INSERT INTO
	SAEVOTER (LOGIN, IDVOTE)
VALUES
	('capy', 1),
	('car', 0);